/***********************************************************************************
*
*       ********************************************************************
*       ****             _ B R O W S E R . H  ____  F I L E             ****
*       ********************************************************************
*
*              AUTHOR:      Collin A. Bond.
*               DATED:      May 06, 2025.
*
*       ********************************************************************
*                FILE:      [./Browser.h]
*
*
*
**************************************************************************************
**************************************************************************************/
#ifndef _CBAPP_APP_SIDEBAR_H
#define _CBAPP_APP_SIDEBAR_H  1



//  1.  INCLUDES    | Headers, Modules, etc...
// *************************************************************************** //
// *************************************************************************** //

//  1.1.        ** MY **  HEADERS...
#include CBAPP_USER_CONFIG
#include "cblib.h"
#include "utility/utility.h"
#include "widgets/widgets.h"
//  #include "app/_init.h"
#include "app/state/state.h"



//  1.2     STANDARD LIBRARY HEADERS...
#include <iostream>         //  <======| std::cout, std::cerr, std::endl, ...
#include <cstdlib>          // C-Headers...
#include <stdio.h>
#include <unistd.h>

#include <string>           //  <======| std::string, ...
#include <string_view>
#include <filesystem>
#include <vector>           //  <======| std::vector, ...
#include <stdexcept>        //  <======| ...
#include <limits.h>
#include <math.h>



//  1.3     "DEAR IMGUI" HEADERS...
#include "imgui.h"
#include "implot.h"
#include "imgui_internal.h"






namespace cb { // BEGINNING NAMESPACE "cb"...
// *************************************************************** //
// *************************************************************** //






// *************************************************************************** //
// *************************************************************************** //
//                PRIMARY CLASS INTERFACE:
// 		Class-Interface for the "Browser" Abstraction.
// *************************************************************************** //
// *************************************************************************** //

class Browser
{
//      0.          CONSTANTS AND ALIASES...
// *************************************************************************** //
// *************************************************************************** //
public:

    // *************************************************************************** //
    //      0. |    NESTED TYPENAME ALIASES.
    // *************************************************************************** //
    CBAPP_APPSTATE_ALIAS_API            //  *OR*    CBAPP_CBLIB_TYPES_API       //  FOR CBLIB...
    friend class                        App;
    
    // *************************************************************************** //
    //
    //
    // *************************************************************************** //
    //      0. |    STATIC CONSTEXPR CONSTANTS.
    // *************************************************************************** //
    //  static constexpr float              ms_MY_CONSTEXPR_VALUE           = 240.0f;
    //
    //                              UI BROWSER DIMENSIONS:
    //  static constexpr float              ms_LABEL_WIDTH                  = 150.0f;
    //  static constexpr float              ms_WIDGET_WIDTH                 = 300.0f;
    
    // *************************************************************************** //
    //
    //
    // *************************************************************************** //
    //      0. |    REFERENCES TO GLOBAL ARRAYS.
    // *************************************************************************** //
    
//
//
// *************************************************************************** //
// *************************************************************************** //   END "0.  CONSTANTS AND ALIASES".



// *************************************************************************** //
//
//
//      1.          CLASS DATA-MEMBERS...
// *************************************************************************** //
// *************************************************************************** //
protected:
    
    // *************************************************************************** //
    //      1. |    STATE VARIABLES.
    // *************************************************************************** //
    AppState &                          CBAPP_STATE_NAME;


    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      1. |    IMPORTANT DATA-MEMBERS.
    // *************************************************************************** //
    
    
    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      1. |    GENERIC DATA.
    // *************************************************************************** //
    bool                                m_initialized                   = false;
    bool                                m_first_frame                   = false;
    
    
    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      1. |    SETTINGS DATA.
    // *************************************************************************** //
    bool                                m_show_perf_metrics             = app::DEF_PERF_METRICS_STATE;
    bool                                m_show_perf_plots               = app::DEF_PERF_PLOTS_STATE;
    
    
    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      1. |    APPEARANCE DATA.
    // *************************************************************************** //
    ImGuiWindowClass                    m_window_class                  ;
    //
    ImVec2                              ms_PLOT_SIZE                    = ImVec2(-1, 75);
    ImVec2                              m_avail                         = ImVec2(-1, -1);
    
//
//
//
// *************************************************************************** //
// *************************************************************************** //   END "1.  CLASS DATA-MEMBERS".



// *************************************************************************** //
//
//
//      2.A.        PUBLIC MEMBER FUNCTIONS...
// *************************************************************************** //
// *************************************************************************** //
public:
    
    // *************************************************************************** //
    //      2.A. |  INITIALIZATION METHODS.         |   "init.cpp" ...
    // *************************************************************************** //
    explicit                            Browser                 (app::AppState & );                         //  Def. Constructor.
                                        ~Browser                (void);                                     //  Def. Destructor.
    //
    void                                initialize              (void);
    
    
    // *************************************************************************** //
    //      2.A. |  DELETED FUNCTIONS.              |   ...
    // *************************************************************************** //
                                        Browser                 (const Browser &    src)        = delete;   //  Copy. Constructor.
                                        Browser                 (Browser &&         src)        = delete;   //  Move Constructor.
    Browser &                           operator =              (const Browser &    src)        = delete;   //  Assgn. Operator.
    Browser &                           operator =              (Browser &&         src)        = delete;   //  Move-Assgn. Operator.
    
    
    // *************************************************************************** //
    //
    //
    // *************************************************************************** //
    //      2.A. |  MAIN API.                       |   "interface.cpp" ...
    // *************************************************************************** //
    void                                Begin                               ([[maybe_unused]] const char *,     [[maybe_unused]] bool *,    [[maybe_unused]] ImGuiWindowFlags);
    
//
//
//
// *************************************************************************** //
// *************************************************************************** //   END "2A.  PUBLIC MEMBER FUNCS".


    
// *************************************************************************** //
//
//
//      2.B.        PROTECTED MEMBER FUNCTIONS...
// *************************************************************************** //
// *************************************************************************** //
protected:

    // *************************************************************************** //
    //      2.B. |  "RULE-OF ..." FUNCTIONS.        |   ...
    // *************************************************************************** //
    inline void                         init                                (void);
    void                                load                                (void);
    void                                destroy                             (void);
    
    
    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      2.B. |  PRIMARY ORCHESTRATOR FUNCTIONS. |   ...
    // *************************************************************************** //
    void                                _Begin_IMPL                         (void);
    void                                SettingsWindow                      (void);
    //
    void                                DisplaySystemPreferencesTab         (void) noexcept;
    void                                DisplayBrowserTab                   (void) noexcept;
    void                                DisplayInfoTab                      (void) noexcept;
    
    
    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      2.C. |  BROWSER TAB.                    |   ...
    // *************************************************************************** //
    void                                draw_browser_button                 (void);
    
    
    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      2.C. |  SYSTEM PREFERENCES TAB.         |   ...
    // *************************************************************************** //
    void                                disp_appearance_mode                (void);     //  Other...
    void                                disp_ui_scale                       (void);
    //
    void                                disp_font_selector                  (void);
    
    
    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      2.E. |  `INFO` TAB.                     |   ...
    // *************************************************************************** //
    
    
    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      2.F. |  STAND ALONE TOOLS.              |   ...
    // *************************************************************************** //
    //
    //                              INDEPENDENT TOOLS:
    void                                color_tool                          (void);
    void                                disp_color_palette                  (void);
    void                                disp_performance_metrics            (void);
    
    
    // *************************************************************************** //
    //
    // *************************************************************************** //
    //      2.G. |  MISC. / UTILITY FUNCTIONS.      |   ...
    // *************************************************************************** //
    inline void                         _perframe_cache                     (void) noexcept;
    
//
//
//
// *************************************************************************** //
// *************************************************************************** //   END "2B.  PROTECTED" FUNCTIONS.

    
   
// *************************************************************************** //
//
//
//      2.E.        INLINE FUNCTIONS...
// *************************************************************************** //
// *************************************************************************** //
protected:

    // *************************************************************************** //
    //      2.C. |  QUERY FUNCTIONS.
    // *************************************************************************** //



    // *************************************************************************** //
    //
    //
    // *************************************************************************** //
    //      2.C. |  SETTER/GETTER FUNCTIONS.
    // *************************************************************************** //



    // *************************************************************************** //
    //
    //
    // *************************************************************************** //
    //      2.C. |  CENTRALIZED STATE MANAGEMENT FUNCTIONS.
    // *************************************************************************** //
    
    //  "_no_op"
    inline void                         _no_op                              (void)      { return; };
    
    
    
    // *************************************************************************** //
    
//
//
//
// *************************************************************************** //
// *************************************************************************** //   END "2C.  INLINE" FUNCTIONS.






// *************************************************************************** //
// *************************************************************************** //
};//	END "Browser" INLINE CLASS DEFINITION.
























// *************************************************************************** //
// *************************************************************************** //
}//   END OF "cb" NAMESPACE.












#endif      //  _CBAPP_SIDEBAR_H  //
// *************************************************************************** //
// *************************************************************************** //
//
//  END.
